<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>poser: PSC_Random Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">poser
   </div>
   <div id="projectbrief">A C framework for POsix SERvices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_p_s_c___random.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_p_s_c___random-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PSC_Random Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Get some random data.  
 <a href="class_p_s_c___random.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="random_8h_source.html">poser/core/random.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae0fa879b2ada984156c4cc9c6579d729"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___random.html#ae0fa879b2ada984156c4cc9c6579d729">PSC_Random_bytes</a> (uint8_t *buf, size_t count, <a class="el" href="random_8h.html#a247bde2ad271f4eca1b261d090eae258">PSC_RandomFlags</a> flags)</td></tr>
<tr class="memdesc:ae0fa879b2ada984156c4cc9c6579d729"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill a buffer with random bytes.  <br /></td></tr>
<tr class="separator:ae0fa879b2ada984156c4cc9c6579d729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef238363a021e4141ec36a087be41e3a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___random.html#aef238363a021e4141ec36a087be41e3a">PSC_Random_string</a> (char *str, size_t size, <a class="el" href="random_8h.html#a247bde2ad271f4eca1b261d090eae258">PSC_RandomFlags</a> flags)</td></tr>
<tr class="memdesc:aef238363a021e4141ec36a087be41e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill a buffer with a random string.  <br /></td></tr>
<tr class="separator:aef238363a021e4141ec36a087be41e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a900660dc45c49b925d38d99dd41e816f"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___random.html#a900660dc45c49b925d38d99dd41e816f">PSC_Random_createStr</a> (size_t count, <a class="el" href="random_8h.html#a247bde2ad271f4eca1b261d090eae258">PSC_RandomFlags</a> flags)</td></tr>
<tr class="memdesc:a900660dc45c49b925d38d99dd41e816f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a newly allocated random string.  <br /></td></tr>
<tr class="separator:a900660dc45c49b925d38d99dd41e816f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Get some random data. </p>
<p>Provides static methods to obtain random bytes and random strings. If available, arc4random() is used for that, which is expected to never block, never fail and return cryptographically secure random data.</p>
<p>If arc4random is not available, several other methods are tried.</p>
<ul>
<li>If available, getrandom() is the first fallback, with flags matching the flags specified in the call to <a class="el" href="class_p_s_c___random.html" title="Get some random data.">PSC_Random</a>.</li>
<li>If this is unavailable or fails, reading from /dev/urandom or /dev/random is tried if applicable given the flags specified.</li>
<li>Finally, if cryptographically secure randomness is not specifically requested, an internal xorshift-based PRNG is used. </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae0fa879b2ada984156c4cc9c6579d729" name="ae0fa879b2ada984156c4cc9c6579d729"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0fa879b2ada984156c4cc9c6579d729">&#9670;&#160;</a></span>PSC_Random_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t PSC_Random_bytes </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="random_8h.html#a247bde2ad271f4eca1b261d090eae258">PSC_RandomFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill a buffer with random bytes. </p>
<p>This never fails unless PSC_RF_SECURE is given and arc4random() is not available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>the buffer to fill </td></tr>
    <tr><td class="paramname">count</td><td>the number of random bytes put into <code>buf</code> </td></tr>
    <tr><td class="paramname">flags</td><td>flags controlling methods used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written, which will be less than <code>count</code> on error </dd></dl>

</div>
</div>
<a id="a900660dc45c49b925d38d99dd41e816f" name="a900660dc45c49b925d38d99dd41e816f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a900660dc45c49b925d38d99dd41e816f">&#9670;&#160;</a></span>PSC_Random_createStr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * PSC_Random_createStr </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="random_8h.html#a247bde2ad271f4eca1b261d090eae258">PSC_RandomFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a newly allocated random string. </p>
<p>The string is constructed by base64-encoding random bytes. Memory for the new string is allocated, so the caller has to free() it later. This never fails unless PSC_RF_SECURE is given and arc4random() is not available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>use this many random bytes to construct the string </td></tr>
    <tr><td class="paramname">flags</td><td>flags controlling methods used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new random string, or NULL on error </dd></dl>

</div>
</div>
<a id="aef238363a021e4141ec36a087be41e3a" name="aef238363a021e4141ec36a087be41e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef238363a021e4141ec36a087be41e3a">&#9670;&#160;</a></span>PSC_Random_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t PSC_Random_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="random_8h.html#a247bde2ad271f4eca1b261d090eae258">PSC_RandomFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill a buffer with a random string. </p>
<p>The string is constructed by base64-encoding random bytes. This never fails unless PSC_RF_SECURE is given and arc4random() is not available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>the buffer to put the string into </td></tr>
    <tr><td class="paramname">size</td><td>the length of the string, including a terminating NUL </td></tr>
    <tr><td class="paramname">flags</td><td>flags controlling methods used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the string size (including a terminating NUL) actually written, which will be less than <code>size</code> on error </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>poser/core/<a class="el" href="random_8h_source.html">random.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_p_s_c___random.html">PSC_Random</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
