<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>poser: PSC_AsyncTask Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">poser
   </div>
   <div id="projectbrief">A C framework for POsix SERvices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_p_s_c___async_task.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_p_s_c___async_task-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PSC_AsyncTask Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>An asynchronous task a thread job can wait for.  
 <a href="class_p_s_c___async_task.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="threadpool_8h_source.html">poser/core/threadpool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae41c2bf9e45dea8dbd62c552c59f0199"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_p_s_c___async_task.html">PSC_AsyncTask</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___async_task.html#ae41c2bf9e45dea8dbd62c552c59f0199">PSC_AsyncTask_create</a> (<a class="el" href="threadpool_8h.html#a397b3fb1f91bab68cdc2e73f4418ed3b">PSC_AsyncTaskJob</a> job)</td></tr>
<tr class="memdesc:ae41c2bf9e45dea8dbd62c552c59f0199"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_p_s_c___async_task.html" title="An asynchronous task a thread job can wait for.">PSC_AsyncTask</a> default constructor.  <br /></td></tr>
<tr class="separator:ae41c2bf9e45dea8dbd62c552c59f0199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6cdb1a2af7cacd9536f9db620b23a42"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___async_task.html#af6cdb1a2af7cacd9536f9db620b23a42">PSC_AsyncTask_await</a> (<a class="el" href="class_p_s_c___async_task.html">PSC_AsyncTask</a> *self, void *arg)</td></tr>
<tr class="memdesc:af6cdb1a2af7cacd9536f9db620b23a42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for completion of an async task.  <br /></td></tr>
<tr class="separator:af6cdb1a2af7cacd9536f9db620b23a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ebd0a6c0c962218cc7aa3e3d3e6269e"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___async_task.html#a1ebd0a6c0c962218cc7aa3e3d3e6269e">PSC_AsyncTask_arg</a> (<a class="el" href="class_p_s_c___async_task.html">PSC_AsyncTask</a> *self)</td></tr>
<tr class="memdesc:a1ebd0a6c0c962218cc7aa3e3d3e6269e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the argument of an async task.  <br /></td></tr>
<tr class="separator:a1ebd0a6c0c962218cc7aa3e3d3e6269e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f024fd1d144f4174da25d862e2b14f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___async_task.html#a7f024fd1d144f4174da25d862e2b14f0">PSC_AsyncTask_complete</a> (<a class="el" href="class_p_s_c___async_task.html">PSC_AsyncTask</a> *self, void *result)</td></tr>
<tr class="memdesc:a7f024fd1d144f4174da25d862e2b14f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete an async task.  <br /></td></tr>
<tr class="separator:a7f024fd1d144f4174da25d862e2b14f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0b68805d893a5738d98adf854c7d4895"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___async_task.html#a0b68805d893a5738d98adf854c7d4895">PSC_AsyncTask_awaitIsBlocking</a> (void)</td></tr>
<tr class="memdesc:a0b68805d893a5738d98adf854c7d4895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether <a class="el" href="class_p_s_c___async_task.html#af6cdb1a2af7cacd9536f9db620b23a42" title="Wait for completion of an async task.">PSC_AsyncTask_await()</a> will block.  <br /></td></tr>
<tr class="separator:a0b68805d893a5738d98adf854c7d4895"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An asynchronous task a thread job can wait for. </p>
<p>When the library is built on a system supporting user context switching with POSIX-1.2001 getcontext() and friends, the thread is released for other thread jobs while waiting, otherwise the worker thread will be blocked.</p>
<p>No destructor is offered, the task destroys itself on completion. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1ebd0a6c0c962218cc7aa3e3d3e6269e" name="a1ebd0a6c0c962218cc7aa3e3d3e6269e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ebd0a6c0c962218cc7aa3e3d3e6269e">&#9670;&#160;</a></span>PSC_AsyncTask_arg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * PSC_AsyncTask_arg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___async_task.html">PSC_AsyncTask</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the argument of an async task. </p>
<p>This is meant to be called on the main thread from a PSC_AsyncTaskJob to get the optional argument passed to <a class="el" href="class_p_s_c___async_task.html#af6cdb1a2af7cacd9536f9db620b23a42" title="Wait for completion of an async task.">PSC_AsyncTask_await()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___async_task.html" title="An asynchronous task a thread job can wait for.">PSC_AsyncTask</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the task's argument </dd></dl>

</div>
</div>
<a id="af6cdb1a2af7cacd9536f9db620b23a42" name="af6cdb1a2af7cacd9536f9db620b23a42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6cdb1a2af7cacd9536f9db620b23a42">&#9670;&#160;</a></span>PSC_AsyncTask_await()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * PSC_AsyncTask_await </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___async_task.html">PSC_AsyncTask</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for completion of an async task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___async_task.html" title="An asynchronous task a thread job can wait for.">PSC_AsyncTask</a> </td></tr>
    <tr><td class="paramname">arg</td><td>an optional argument to pass to the async task </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the result given to <a class="el" href="class_p_s_c___async_task.html#a7f024fd1d144f4174da25d862e2b14f0" title="Complete an async task.">PSC_AsyncTask_complete()</a> </dd></dl>

</div>
</div>
<a id="a0b68805d893a5738d98adf854c7d4895" name="a0b68805d893a5738d98adf854c7d4895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b68805d893a5738d98adf854c7d4895">&#9670;&#160;</a></span>PSC_AsyncTask_awaitIsBlocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int PSC_AsyncTask_awaitIsBlocking </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether <a class="el" href="class_p_s_c___async_task.html#af6cdb1a2af7cacd9536f9db620b23a42" title="Wait for completion of an async task.">PSC_AsyncTask_await()</a> will block. </p>
<p>This method tells at runtime whether awaiting a <a class="el" href="class_p_s_c___async_task.html" title="An asynchronous task a thread job can wait for.">PSC_AsyncTask</a> will always block the worker thread (which is the case on systems without support for POSIX user context switching), or only when the job's stack size is set to zero. It may be used to configure a suitable number of worker threads per CPU.</p>
<dl class="section return"><dt>Returns</dt><dd>1 if <a class="el" href="class_p_s_c___async_task.html#af6cdb1a2af7cacd9536f9db620b23a42" title="Wait for completion of an async task.">PSC_AsyncTask_await()</a> always blocks, 0 if it only blocks when a stack size of 0 is configured. </dd></dl>

</div>
</div>
<a id="a7f024fd1d144f4174da25d862e2b14f0" name="a7f024fd1d144f4174da25d862e2b14f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f024fd1d144f4174da25d862e2b14f0">&#9670;&#160;</a></span>PSC_AsyncTask_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PSC_AsyncTask_complete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___async_task.html">PSC_AsyncTask</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Complete an async task. </p>
<p>This must be called from the main thread to allow the thread job awaiting the async task to continue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___async_task.html" title="An asynchronous task a thread job can wait for.">PSC_AsyncTask</a> </td></tr>
    <tr><td class="paramname">result</td><td>an optional result to pass to the awaiting job </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae41c2bf9e45dea8dbd62c552c59f0199" name="ae41c2bf9e45dea8dbd62c552c59f0199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae41c2bf9e45dea8dbd62c552c59f0199">&#9670;&#160;</a></span>PSC_AsyncTask_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_p_s_c___async_task.html">PSC_AsyncTask</a> * PSC_AsyncTask_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="threadpool_8h.html#a397b3fb1f91bab68cdc2e73f4418ed3b">PSC_AsyncTaskJob</a>&#160;</td>
          <td class="paramname"><em>job</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_p_s_c___async_task.html" title="An asynchronous task a thread job can wait for.">PSC_AsyncTask</a> default constructor. </p>
<p>Creates a new <a class="el" href="class_p_s_c___async_task.html" title="An asynchronous task a thread job can wait for.">PSC_AsyncTask</a> that will call the given function on the main thread when awaited.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job</td><td>the function to call on the main thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a newly created <a class="el" href="class_p_s_c___async_task.html" title="An asynchronous task a thread job can wait for.">PSC_AsyncTask</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>poser/core/<a class="el" href="threadpool_8h_source.html">threadpool.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_p_s_c___async_task.html">PSC_AsyncTask</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
