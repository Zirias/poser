<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>poser: PSC_RunOpts Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">poser
   </div>
   <div id="projectbrief">A C framework for POsix SERvices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_p_s_c___run_opts.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_p_s_c___run_opts-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PSC_RunOpts Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Options for running a service.  
 <a href="class_p_s_c___run_opts.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="runopts_8h_source.html">poser/core/runopts.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab52e951ccc63b1b9089fc1ab29b85ba7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___run_opts.html#ab52e951ccc63b1b9089fc1ab29b85ba7">PSC_RunOpts_init</a> (const char *pidfile)</td></tr>
<tr class="memdesc:ab52e951ccc63b1b9089fc1ab29b85ba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize to default values.  <br /></td></tr>
<tr class="separator:ab52e951ccc63b1b9089fc1ab29b85ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97400bc43ef2f92f2fb4f47bd10bcde2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___run_opts.html#a97400bc43ef2f92f2fb4f47bd10bcde2">PSC_RunOpts_runas</a> (long uid, long gid)</td></tr>
<tr class="memdesc:a97400bc43ef2f92f2fb4f47bd10bcde2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run as a different user.  <br /></td></tr>
<tr class="separator:a97400bc43ef2f92f2fb4f47bd10bcde2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af78465b223ed44371c6d090e05ab06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___run_opts.html#a5af78465b223ed44371c6d090e05ab06">PSC_RunOpts_enableDefaultLogging</a> (const char *logident)</td></tr>
<tr class="memdesc:a5af78465b223ed44371c6d090e05ab06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle logging using default options.  <br /></td></tr>
<tr class="separator:a5af78465b223ed44371c6d090e05ab06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1476fff6b7d8863232c84ed0f1a8cdbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___run_opts.html#a1476fff6b7d8863232c84ed0f1a8cdbb">PSC_RunOpts_foreground</a> (void)</td></tr>
<tr class="memdesc:a1476fff6b7d8863232c84ed0f1a8cdbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run in foreground.  <br /></td></tr>
<tr class="separator:a1476fff6b7d8863232c84ed0f1a8cdbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5ea166fb439c74ad8560e7ae2eb82c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___run_opts.html#a9c5ea166fb439c74ad8560e7ae2eb82c">PSC_RunOpts_nowait</a> (void)</td></tr>
<tr class="memdesc:a9c5ea166fb439c74ad8560e7ae2eb82c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Don't wait for successful service startup.  <br /></td></tr>
<tr class="separator:a9c5ea166fb439c74ad8560e7ae2eb82c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Options for running a service. </p>
<p>These options are used by PSC_Service and <a class="el" href="class_p_s_c___daemon.html" title="Run something as a daemon.">PSC_Daemon</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a5af78465b223ed44371c6d090e05ab06" name="a5af78465b223ed44371c6d090e05ab06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af78465b223ed44371c6d090e05ab06">&#9670;&#160;</a></span>PSC_RunOpts_enableDefaultLogging()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSC_RunOpts_enableDefaultLogging </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>logident</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle logging using default options. </p>
<p>This will automatically configure logging during service startup.</p>
<p>When running daemonized (default), it will log to syslog as well as stderr and stop logging to stderr as soon as the service startup completed. It will also enable asynchronous logging after successful startup.</p>
<p>When running in foreground, it will just configure logging to stderr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logident</td><td>name to use for syslog logging (default: posercore) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1476fff6b7d8863232c84ed0f1a8cdbb" name="a1476fff6b7d8863232c84ed0f1a8cdbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1476fff6b7d8863232c84ed0f1a8cdbb">&#9670;&#160;</a></span>PSC_RunOpts_foreground()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSC_RunOpts_foreground </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run in foreground. </p>
<p>When this is set, PSC_Daemon_run() will directly call the daemon main function without forking or handling a pidfile. </p>

</div>
</div>
<a id="ab52e951ccc63b1b9089fc1ab29b85ba7" name="ab52e951ccc63b1b9089fc1ab29b85ba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab52e951ccc63b1b9089fc1ab29b85ba7">&#9670;&#160;</a></span>PSC_RunOpts_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSC_RunOpts_init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pidfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize to default values. </p>
<p>Resets all run options to their default values. If this isn't explicitly called, options are automatically initialized without a pidfile.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pidfile</td><td>the pidfile to use, or NULL for none </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c5ea166fb439c74ad8560e7ae2eb82c" name="a9c5ea166fb439c74ad8560e7ae2eb82c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c5ea166fb439c74ad8560e7ae2eb82c">&#9670;&#160;</a></span>PSC_RunOpts_nowait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSC_RunOpts_nowait </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Don't wait for successful service startup. </p>
<p>When this is set, the parent process will exit immediately instead of waiting for PSC_Daemon_launched() to be called. </p>

</div>
</div>
<a id="a97400bc43ef2f92f2fb4f47bd10bcde2" name="a97400bc43ef2f92f2fb4f47bd10bcde2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97400bc43ef2f92f2fb4f47bd10bcde2">&#9670;&#160;</a></span>PSC_RunOpts_runas()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSC_RunOpts_runas </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>gid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run as a different user. </p>
<p>When a different user is set here, an attempt is made to switch to it during service startup. This will only work when the service was launched by the superuser (root).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uid</td><td>user-id to switch to, or -1 for no change </td></tr>
    <tr><td class="paramname">gid</td><td>group-id to switch to, or -1 for no change </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>poser/core/<a class="el" href="runopts_8h_source.html">runopts.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_p_s_c___run_opts.html">PSC_RunOpts</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
