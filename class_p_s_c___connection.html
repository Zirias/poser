<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>poser: PSC_Connection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">poser
   </div>
   <div id="projectbrief">A C framework for POsix SERvices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_p_s_c___connection.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_p_s_c___connection-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PSC_Connection Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A socket connection.  
 <a href="class_p_s_c___connection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="connection_8h_source.html">poser/core/connection.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a62e8dd543cc192eed52612df071743c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#a62e8dd543cc192eed52612df071743c6">PSC_Connection_createTcpClient</a> (const <a class="el" href="class_p_s_c___tcp_client_opts.html">PSC_TcpClientOpts</a> *opts)</td></tr>
<tr class="memdesc:a62e8dd543cc192eed52612df071743c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a connection as a TCP client.  <br /></td></tr>
<tr class="separator:a62e8dd543cc192eed52612df071743c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac275c11b6b1ee6d5dd080b550bd77f10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#ac275c11b6b1ee6d5dd080b550bd77f10">PSC_Connection_createTcpClientAsync</a> (const <a class="el" href="class_p_s_c___tcp_client_opts.html">PSC_TcpClientOpts</a> *opts, void *receiver, <a class="el" href="client_8h.html#a34b1cd67585e52bb64572a7026da1f28">PSC_ClientCreatedHandler</a> callback)</td></tr>
<tr class="memdesc:ac275c11b6b1ee6d5dd080b550bd77f10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a connection as a TCP client asynchronously.  <br /></td></tr>
<tr class="separator:ac275c11b6b1ee6d5dd080b550bd77f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e481037ffbc27fd812546e75d655d2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#a2e481037ffbc27fd812546e75d655d2f">PSC_Connection_createUnixClient</a> (const char *sockname)</td></tr>
<tr class="memdesc:a2e481037ffbc27fd812546e75d655d2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a connection as a Unix socket client.  <br /></td></tr>
<tr class="separator:a2e481037ffbc27fd812546e75d655d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7f97c40fcbbc5a894e190dc4df9a97"><td class="memItemLeft" align="right" valign="top">PSC_Event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#acf7f97c40fcbbc5a894e190dc4df9a97">PSC_Connection_connected</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:acf7f97c40fcbbc5a894e190dc4df9a97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection successfully connected.  <br /></td></tr>
<tr class="separator:acf7f97c40fcbbc5a894e190dc4df9a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60bc164b82ab3832d020151abc22db43"><td class="memItemLeft" align="right" valign="top">PSC_Event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#a60bc164b82ab3832d020151abc22db43">PSC_Connection_closed</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:a60bc164b82ab3832d020151abc22db43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection closed.  <br /></td></tr>
<tr class="separator:a60bc164b82ab3832d020151abc22db43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d758d0cb15f46d06ab86ab070e4927"><td class="memItemLeft" align="right" valign="top">PSC_Event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#a71d758d0cb15f46d06ab86ab070e4927">PSC_Connection_dataReceived</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:a71d758d0cb15f46d06ab86ab070e4927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data received.  <br /></td></tr>
<tr class="separator:a71d758d0cb15f46d06ab86ab070e4927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afddf59b4ff29b1bee16ba4ba3b97837d"><td class="memItemLeft" align="right" valign="top">PSC_Event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#afddf59b4ff29b1bee16ba4ba3b97837d">PSC_Connection_dataSent</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:afddf59b4ff29b1bee16ba4ba3b97837d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data sent.  <br /></td></tr>
<tr class="separator:afddf59b4ff29b1bee16ba4ba3b97837d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1630fef0429d2fee71022ff5a59fd99"><td class="memItemLeft" align="right" valign="top">PSC_Event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#ad1630fef0429d2fee71022ff5a59fd99">PSC_Connection_nameResolved</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:ad1630fef0429d2fee71022ff5a59fd99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remote name resolved.  <br /></td></tr>
<tr class="separator:ad1630fef0429d2fee71022ff5a59fd99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42fe18bb601b8de86e4d096938638166"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#a42fe18bb601b8de86e4d096938638166">PSC_Connection_remoteAddr</a> (const <a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:a42fe18bb601b8de86e4d096938638166"><td class="mdescLeft">&#160;</td><td class="mdescRight">The remote address.  <br /></td></tr>
<tr class="separator:a42fe18bb601b8de86e4d096938638166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae317929908010b9dc05be1afd8dc7106"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#ae317929908010b9dc05be1afd8dc7106">PSC_Connection_remoteHost</a> (const <a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:ae317929908010b9dc05be1afd8dc7106"><td class="mdescLeft">&#160;</td><td class="mdescRight">The remote hostname.  <br /></td></tr>
<tr class="separator:ae317929908010b9dc05be1afd8dc7106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f1b5c17582f4557ac13dd12f40c8968"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#a6f1b5c17582f4557ac13dd12f40c8968">PSC_Connection_remotePort</a> (const <a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:a6f1b5c17582f4557ac13dd12f40c8968"><td class="mdescLeft">&#160;</td><td class="mdescRight">The remote port.  <br /></td></tr>
<tr class="separator:a6f1b5c17582f4557ac13dd12f40c8968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad590845f523a0af6c750d910298c73bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#ad590845f523a0af6c750d910298c73bc">PSC_Connection_write</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self, const uint8_t *buf, size_t sz, void *id)</td></tr>
<tr class="memdesc:ad590845f523a0af6c750d910298c73bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data to the peer.  <br /></td></tr>
<tr class="separator:ad590845f523a0af6c750d910298c73bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96ca60b0dce6b2ff4d052ee3408089b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#ae96ca60b0dce6b2ff4d052ee3408089b">PSC_Connection_activate</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:ae96ca60b0dce6b2ff4d052ee3408089b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate connection.  <br /></td></tr>
<tr class="separator:ae96ca60b0dce6b2ff4d052ee3408089b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac19d32171732b6e46ff9725866de52fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#ac19d32171732b6e46ff9725866de52fe">PSC_Connection_confirmDataReceived</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:ac19d32171732b6e46ff9725866de52fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm receiving data is completed.  <br /></td></tr>
<tr class="separator:ac19d32171732b6e46ff9725866de52fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a311792388715f0480114db1134e1a0fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#a311792388715f0480114db1134e1a0fd">PSC_Connection_close</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self, int blacklist)</td></tr>
<tr class="memdesc:a311792388715f0480114db1134e1a0fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close connection.  <br /></td></tr>
<tr class="separator:a311792388715f0480114db1134e1a0fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4bb2ba561b3c5ea842b947bc4b5f393"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#aa4bb2ba561b3c5ea842b947bc4b5f393">PSC_Connection_setData</a> (<a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self, void *data, void(*deleter)(void *))</td></tr>
<tr class="memdesc:aa4bb2ba561b3c5ea842b947bc4b5f393"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach a data object.  <br /></td></tr>
<tr class="separator:aa4bb2ba561b3c5ea842b947bc4b5f393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055d6483985ff7ccec0bfa832b84b6a0"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_c___connection.html#a055d6483985ff7ccec0bfa832b84b6a0">PSC_Connection_data</a> (const <a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *self)</td></tr>
<tr class="memdesc:a055d6483985ff7ccec0bfa832b84b6a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreive attached data object.  <br /></td></tr>
<tr class="separator:a055d6483985ff7ccec0bfa832b84b6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A socket connection. </p>
<p>This class offers reading from and writing to a socket (TCP or local Unix) and retreiving basic peer information.</p>
<p>A connection cannot be created directly. It's either created as a client, or obtained from a PSC_Server when a client connected there.</p>
<p>There's no destructor either, a connection destroys itself after being closed and having done the necessary cleanup. Note that it automatically closes on any errors, so if you need to know about it, you should listen on the <a class="el" href="class_p_s_c___connection.html#a60bc164b82ab3832d020151abc22db43" title="Connection closed.">PSC_Connection_closed()</a> event. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae96ca60b0dce6b2ff4d052ee3408089b" name="ae96ca60b0dce6b2ff4d052ee3408089b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96ca60b0dce6b2ff4d052ee3408089b">&#9670;&#160;</a></span>PSC_Connection_activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PSC_Connection_activate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate connection. </p>
<p>When a new connection is obtained from a PSC_Server which is configured for connWait, it will only start receiving data after calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a311792388715f0480114db1134e1a0fd" name="a311792388715f0480114db1134e1a0fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a311792388715f0480114db1134e1a0fd">&#9670;&#160;</a></span>PSC_Connection_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PSC_Connection_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blacklist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close connection. </p>
<p>This initiates closing the connection. If TLS is enabled, the TLS shutdown is performed immediately. A closed event is fired and the connection is scheduled for deletion after all events were handled, which will also close the socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
    <tr><td class="paramname">blacklist</td><td>(0) or (1): also blacklist the socket address, so it won't be reused immediately, use when the peer behaved erroneously </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a60bc164b82ab3832d020151abc22db43" name="a60bc164b82ab3832d020151abc22db43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60bc164b82ab3832d020151abc22db43">&#9670;&#160;</a></span>PSC_Connection_closed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PSC_Event * PSC_Connection_closed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection closed. </p>
<p>This event fires when the connection was closed, either by calling <a class="el" href="class_p_s_c___connection.html#a60bc164b82ab3832d020151abc22db43" title="Connection closed.">PSC_Connection_closed()</a>, or because the peer closed it, or because of any error.</p>
<p>If the connection was fully connected before, it passes itself as the event arguments. Otherwise, the event args will be NULL. That way, it's possible to know whether there was an error during establishing the connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the closed event </dd></dl>

</div>
</div>
<a id="ac19d32171732b6e46ff9725866de52fe" name="ac19d32171732b6e46ff9725866de52fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac19d32171732b6e46ff9725866de52fe">&#9670;&#160;</a></span>PSC_Connection_confirmDataReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PSC_Connection_confirmDataReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirm receiving data is completed. </p>
<p>This reactivates reading from the connection after it was paused by calling PSC_EADataReceived_markHandling() in a data received event handler, to signal the buffer is still being processed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if reading wasn't paused </dd></dl>

</div>
</div>
<a id="acf7f97c40fcbbc5a894e190dc4df9a97" name="acf7f97c40fcbbc5a894e190dc4df9a97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf7f97c40fcbbc5a894e190dc4df9a97">&#9670;&#160;</a></span>PSC_Connection_connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PSC_Event * PSC_Connection_connected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection successfully connected. </p>
<p>This event fires as soon as a connection is fully connected and therefore ready to communicate. Note this never fires on connections obtained from a PSC_Server, they are already connected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the connected event </dd></dl>

</div>
</div>
<a id="a62e8dd543cc192eed52612df071743c6" name="a62e8dd543cc192eed52612df071743c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62e8dd543cc192eed52612df071743c6">&#9670;&#160;</a></span>PSC_Connection_createTcpClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> * PSC_Connection_createTcpClient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_p_s_c___tcp_client_opts.html">PSC_TcpClientOpts</a> *&#160;</td>
          <td class="paramname"><em>opts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a connection as a TCP client. </p>
<p>The created connection will be in a "connecting" state. To know when it is successfully connected, you must listen on the <a class="el" href="class_p_s_c___connection.html#acf7f97c40fcbbc5a894e190dc4df9a97" title="Connection successfully connected.">PSC_Connection_connected()</a> event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opts</td><td>TCP client options </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a newly created connection object, or NULL when creation failed </dd></dl>

</div>
</div>
<a id="ac275c11b6b1ee6d5dd080b550bd77f10" name="ac275c11b6b1ee6d5dd080b550bd77f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac275c11b6b1ee6d5dd080b550bd77f10">&#9670;&#160;</a></span>PSC_Connection_createTcpClientAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PSC_Connection_createTcpClientAsync </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_p_s_c___tcp_client_opts.html">PSC_TcpClientOpts</a> *&#160;</td>
          <td class="paramname"><em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>receiver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="client_8h.html#a34b1cd67585e52bb64572a7026da1f28">PSC_ClientCreatedHandler</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a connection as a TCP client asynchronously. </p>
<p>To create a TCP client, it can be necessary to resolve a remote hostname, and/or to read a client certificate to use with TLS. Using this function, these things are done in background, so it is recommended to use this function from within a running service. The connection is created when all required information is present, and passed to the callback provided here.</p>
<p>Note that the created connection will still be in a "connecting" state, so you still have to listen on the <a class="el" href="class_p_s_c___connection.html#acf7f97c40fcbbc5a894e190dc4df9a97" title="Connection successfully connected.">PSC_Connection_connected()</a> event to know when it is successfully connected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opts</td><td>TCP client options </td></tr>
    <tr><td class="paramname">receiver</td><td>the object to receive the callback (or NULL) </td></tr>
    <tr><td class="paramname">callback</td><td>the callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 on immediate error, 0 when in progress </dd></dl>

</div>
</div>
<a id="a2e481037ffbc27fd812546e75d655d2f" name="a2e481037ffbc27fd812546e75d655d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e481037ffbc27fd812546e75d655d2f">&#9670;&#160;</a></span>PSC_Connection_createUnixClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> * PSC_Connection_createUnixClient </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sockname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a connection as a Unix socket client. </p>
<p>The created connection will be in a "connecting" state. To know when it is successfully connected, you must listen on the <a class="el" href="class_p_s_c___connection.html#acf7f97c40fcbbc5a894e190dc4df9a97" title="Connection successfully connected.">PSC_Connection_connected()</a> event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockname</td><td>the name/path of the local socket to connect to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a newly created connection object, or NULL when creation failed </dd></dl>

</div>
</div>
<a id="a055d6483985ff7ccec0bfa832b84b6a0" name="a055d6483985ff7ccec0bfa832b84b6a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055d6483985ff7ccec0bfa832b84b6a0">&#9670;&#160;</a></span>PSC_Connection_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * PSC_Connection_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreive attached data object. </p>
<p>Get data that was attached with <a class="el" href="class_p_s_c___connection.html#aa4bb2ba561b3c5ea842b947bc4b5f393" title="Attach a data object.">PSC_Connection_setData()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the currently attached data </dd></dl>

</div>
</div>
<a id="a71d758d0cb15f46d06ab86ab070e4927" name="a71d758d0cb15f46d06ab86ab070e4927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d758d0cb15f46d06ab86ab070e4927">&#9670;&#160;</a></span>PSC_Connection_dataReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PSC_Event * PSC_Connection_dataReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data received. </p>
<p>This event fires whenever there was new data received on the socket. It passes a <a class="el" href="class_p_s_c___e_a_data_received.html" title="Event arguments for data received on a connection.">PSC_EADataReceived</a> instance as event arguments, from which you can access a buffer and its size.</p>
<p>You can also mark the buffer as being handled. This will stop receiving more data (which would overwrite the buffer) until you explicitly call <a class="el" href="class_p_s_c___connection.html#ac19d32171732b6e46ff9725866de52fe" title="Confirm receiving data is completed.">PSC_Connection_confirmDataReceived()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the data received event </dd></dl>

</div>
</div>
<a id="afddf59b4ff29b1bee16ba4ba3b97837d" name="afddf59b4ff29b1bee16ba4ba3b97837d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afddf59b4ff29b1bee16ba4ba3b97837d">&#9670;&#160;</a></span>PSC_Connection_dataSent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PSC_Event * PSC_Connection_dataSent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data sent. </p>
<p>This event fires when data passed to <a class="el" href="class_p_s_c___connection.html#ad590845f523a0af6c750d910298c73bc" title="Send data to the peer.">PSC_Connection_write()</a> was sent. It only fires when an "id" object was passed with the data. This object is passed back via event args, so you can identify which write completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the data sent event </dd></dl>

</div>
</div>
<a id="ad1630fef0429d2fee71022ff5a59fd99" name="ad1630fef0429d2fee71022ff5a59fd99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1630fef0429d2fee71022ff5a59fd99">&#9670;&#160;</a></span>PSC_Connection_nameResolved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PSC_Event * PSC_Connection_nameResolved </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remote name resolved. </p>
<p>This event fires as soon as the name of the peer was successfully resolved.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the name resolved event </dd></dl>

</div>
</div>
<a id="a42fe18bb601b8de86e4d096938638166" name="a42fe18bb601b8de86e4d096938638166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42fe18bb601b8de86e4d096938638166">&#9670;&#160;</a></span>PSC_Connection_remoteAddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * PSC_Connection_remoteAddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The remote address. </p>
<p>The address of the peer. For TCP connections, an IPv4 or IPv6 address. For local UNIX connections, the name of the socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the remote address </dd></dl>

</div>
</div>
<a id="ae317929908010b9dc05be1afd8dc7106" name="ae317929908010b9dc05be1afd8dc7106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae317929908010b9dc05be1afd8dc7106">&#9670;&#160;</a></span>PSC_Connection_remoteHost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * PSC_Connection_remoteHost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The remote hostname. </p>
<p>The hostname of the peer. For local UNIX sockets, or if not resolved yet, or if resolving is disabled: NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the remote hostname </dd></dl>

</div>
</div>
<a id="a6f1b5c17582f4557ac13dd12f40c8968" name="a6f1b5c17582f4557ac13dd12f40c8968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f1b5c17582f4557ac13dd12f40c8968">&#9670;&#160;</a></span>PSC_Connection_remotePort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PSC_Connection_remotePort </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The remote port. </p>
<p>For local UNIX sockets, this returns 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the remote port </dd></dl>

</div>
</div>
<a id="aa4bb2ba561b3c5ea842b947bc4b5f393" name="aa4bb2ba561b3c5ea842b947bc4b5f393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4bb2ba561b3c5ea842b947bc4b5f393">&#9670;&#160;</a></span>PSC_Connection_setData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PSC_Connection_setData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>deleter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach a data object. </p>
<p>Attach some custom data to the connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
    <tr><td class="paramname">data</td><td>the data to attach </td></tr>
    <tr><td class="paramname">deleter</td><td>if not NULL, called on the data when the connection is destroyed or some different data is attached </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad590845f523a0af6c750d910298c73bc" name="ad590845f523a0af6c750d910298c73bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad590845f523a0af6c750d910298c73bc">&#9670;&#160;</a></span>PSC_Connection_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PSC_Connection_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data to the peer. </p>
<p>The data passed is scheduled for sending and sent as soon as the socket is ready for sending. If an id is given, a <a class="el" href="class_p_s_c___connection.html#afddf59b4ff29b1bee16ba4ba3b97837d" title="Data sent.">PSC_Connection_dataSent()</a> event fires as soon as the data was actually sent, passing back the id as the event args.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the <a class="el" href="class_p_s_c___connection.html" title="A socket connection.">PSC_Connection</a> </td></tr>
    <tr><td class="paramname">buf</td><td>pointer to the data </td></tr>
    <tr><td class="paramname">sz</td><td>size of the data </td></tr>
    <tr><td class="paramname">id</td><td>optional identifier object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 on immediate error, 0 when sending is scheduled </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>poser/core/<a class="el" href="connection_8h_source.html">connection.h</a></li>
<li>poser/core/<a class="el" href="client_8h_source.html">client.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_p_s_c___connection.html">PSC_Connection</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
